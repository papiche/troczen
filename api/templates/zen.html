<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>·∫êEN ‚Äî Bons locaux, confiance r√©elle</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=DM+Sans:wght@300;400;500&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">

<style>
/* ===================== DESIGN SYSTEM TOKENS ===================== */
:root {
  --radius: 6px;
  /* Brand colors ‚Äî same in both themes */
  --moss:       #3d6147;
  --moss-light: #5a8a67;
  --moss-pale:  #d4e8d9;
  --rust:       #c4521a;
  --gold:       #d4a017;
  --gold-pale:  #f5e8c0;
  --green:      #10b981;
  --amber:      #f59e0b;
  --red:        #ef4444;
  --cyan:       #22d3ee;
  --violet:     #8b5cf6;
}

/* ‚îÄ‚îÄ LIGHT THEME ‚îÄ‚îÄ */
[data-theme="light"] {
  --bg:          #f5f0e8;
  --bg2:         #ede5d0;
  --surface:     #ede5d0;
  --surface2:    #f5f0e8;
  --ink:         #1c1a14;
  --ink-soft:    #4a4535;
  --ink-muted:   #7a6d55;
  --border:      rgba(122,92,58,0.15);
  --nav-bg:      rgba(245,240,232,0.88);
  --card-dark-bg:#1c1a14;
  --card-dark-text:#f5f0e8;
  --step-bg:     rgba(28,26,20,0.03);
  --step-border: rgba(28,26,20,0.06);
  --step-num:    rgba(28,26,20,0.04);
  --boucle-bg:   rgba(28,26,20,0.03);
  --boucle-border:rgba(28,26,20,0.07);
  --hop-text:    rgba(28,26,20,0.4);
  --hop-bg:      rgba(28,26,20,0.04);
  --metric-bg:   #f5f0e8;
  --metric-border:rgba(122,92,58,0.15);
  --toggle-icon: "‚òÄÔ∏è";
}

/* ‚îÄ‚îÄ DARK THEME ‚îÄ‚îÄ */
[data-theme="dark"] {
  --bg:          #121008;
  --bg2:         #1a1710;
  --surface:     #1e1b12;
  --surface2:    #252118;
  --ink:         #f0ead8;
  --ink-soft:    #c4b896;
  --ink-muted:   #7a7060;
  --border:      rgba(200,180,120,0.12);
  --nav-bg:      rgba(18,16,8,0.88);
  --card-dark-bg:#0c0b08;
  --card-dark-text:#f0ead8;
  --step-bg:     rgba(255,255,255,0.03);
  --step-border: rgba(255,255,255,0.07);
  --step-num:    rgba(255,255,255,0.03);
  --boucle-bg:   rgba(255,255,255,0.03);
  --boucle-border:rgba(255,255,255,0.07);
  --hop-text:    rgba(240,234,216,0.35);
  --hop-bg:      rgba(255,255,255,0.03);
  --metric-bg:   #121008;
  --metric-border:rgba(200,180,120,0.12);
}

/* ===================== RESET ===================== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--ink);
  line-height: 1.6;
  overflow-x: hidden;
  transition: background 0.3s, color 0.3s;
}

/* ===================== GRAIN ===================== */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)' opacity='0.025'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
}

/* ===================== NAV ===================== */
nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 32px;
  background: var(--nav-bg);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  transition: background 0.3s;
}

.nav-logo {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  font-weight: 900;
  color: var(--moss);
  letter-spacing: -0.01em;
  text-decoration: none;
}
.nav-logo span { color: var(--rust); }

.nav-links {
  display: flex;
  gap: 24px;
  list-style: none;
  align-items: center;
}
.nav-links a {
  font-size: 12px;
  font-weight: 500;
  color: var(--ink-soft);
  text-decoration: none;
  letter-spacing: 0.04em;
  transition: color 0.2s;
}
.nav-links a:hover { color: var(--moss); }
.nav-links a.active { color: var(--moss); font-weight: 600; }

.theme-toggle {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--ink);
  width: 34px; height: 34px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.2s, border-color 0.2s;
  flex-shrink: 0;
}
.theme-toggle:hover { background: var(--bg2); }

/* ===================== HERO ===================== */
.hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  position: relative;
  overflow: hidden;
  padding: 120px 40px 80px;
}
.hero-canvas { position: absolute; inset: 0; z-index: 0; }

.travel-node {
  position: absolute;
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--moss-light);
  opacity: 0;
  animation: travel var(--dur, 8s) var(--delay, 0s) ease-in-out infinite;
}
.travel-line {
  position: absolute;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--moss-pale), transparent);
  opacity: 0;
  animation: travelLine var(--dur, 8s) var(--delay, 0s) ease-in-out infinite;
  transform-origin: left center;
}
@keyframes travel {
  0% { opacity:0; transform:scale(0.5); }
  10% { opacity:0.7; transform:scale(1); }
  45% { opacity:0.7; }
  55% { opacity:0; transform:scale(0.5); }
  100% { opacity:0; }
}
@keyframes travelLine {
  0% { opacity:0; width:0; }
  10% { opacity:0.4; }
  50% { opacity:0.4; width:var(--w, 200px); }
  60% { opacity:0; width:var(--w, 200px); }
  100% { opacity:0; }
}

.hero-inner {
  position: relative; z-index: 1;
  max-width: 1100px; margin: 0 auto; width: 100%;
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 80px; align-items: center;
}

.hero-eyebrow {
  font-family: 'DM Mono', monospace;
  font-size: 11px; letter-spacing: 0.2em;
  text-transform: uppercase; color: var(--moss);
  margin-bottom: 20px;
  display: flex; align-items: center; gap: 10px;
}
.hero-eyebrow::before { content:''; width:28px; height:1px; background:var(--moss); display:block; }

h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(42px, 6vw, 72px);
  font-weight: 900; line-height: 1.05;
  letter-spacing: -0.02em; color: var(--ink); margin-bottom: 28px;
}
h1 em { font-style: italic; color: var(--moss); }

.hero-sub {
  font-size: 17px; font-weight: 300; color: var(--ink-soft);
  max-width: 440px; margin-bottom: 40px; line-height: 1.7;
}

.hero-cta-row { display: flex; gap: 14px; flex-wrap: wrap; }

.btn-primary {
  display: inline-flex; align-items: center; gap: 8px;
  background: var(--moss); color: #fff;
  padding: 14px 28px; border-radius: var(--radius);
  font-size: 14px; font-weight: 500; text-decoration: none;
  letter-spacing: 0.02em; transition: background 0.2s, transform 0.15s;
  border: none; cursor: pointer; font-family: inherit;
}
.btn-primary:hover { background: var(--moss-light); transform: translateY(-1px); }

.btn-secondary {
  display: inline-flex; align-items: center; gap: 8px;
  background: transparent; color: var(--ink-muted);
  padding: 14px 28px; border-radius: var(--radius);
  border: 1px solid var(--border);
  font-size: 14px; font-weight: 500; text-decoration: none;
  letter-spacing: 0.02em; transition: all 0.2s;
}
[data-theme="light"] .btn-secondary:hover { background: var(--gold-pale); border-color: var(--gold); }
[data-theme="dark"] .btn-secondary:hover { background: var(--surface2); border-color: var(--ink-muted); }

/* Hero card */
.hero-card-area { position: relative; }

.bon-card {
  background: var(--card-dark-bg);
  border-radius: 16px; padding: 32px;
  color: var(--card-dark-text);
  position: relative; overflow: hidden;
  box-shadow: 0 32px 80px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.05);
  animation: cardFloat 6s ease-in-out infinite;
}
@keyframes cardFloat {
  0%,100% { transform: translateY(0) rotate(-1deg); }
  50% { transform: translateY(-8px) rotate(-1deg); }
}
.bon-card::before {
  content: ''; position: absolute; top:-40px; right:-40px;
  width:180px; height:180px; border-radius:50%;
  background: radial-gradient(circle, rgba(90,138,103,0.25) 0%, transparent 70%);
}

.bon-card-tag {
  font-family: 'DM Mono', monospace; font-size: 10px;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--moss-light); margin-bottom: 24px;
  display: flex; align-items: center; gap: 8px;
}
.bon-card-tag::before {
  content:''; width:6px; height:6px; border-radius:50%;
  background: var(--moss-light); box-shadow: 0 0 8px var(--moss-light);
  animation: pulse 2s ease infinite;
}
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.5;transform:scale(0.8);} }

.bon-card-value { font-family:'Playfair Display',serif; font-size:56px; font-weight:900; line-height:1; margin-bottom:4px; }
.bon-card-value span { font-size:24px; color:var(--moss-light); margin-left:6px; }
.bon-card-issuer { font-size:13px; color:rgba(245,240,232,0.5); margin-bottom:32px; font-style:italic; }

.bon-card-journey { border-top:1px solid rgba(255,255,255,0.08); padding-top:20px; }
.bon-card-journey-label { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:0.15em; text-transform:uppercase; color:rgba(245,240,232,0.4); margin-bottom:14px; }
.journey-hops { display:flex; align-items:center; gap:0; }
.hop { width:32px; height:32px; border-radius:50%; border:2px solid rgba(255,255,255,0.15); display:flex; align-items:center; justify-content:center; font-size:14px; background:rgba(255,255,255,0.05); }
.hop.active { border-color:var(--moss-light); background:rgba(90,138,103,0.15); box-shadow:0 0 12px rgba(90,138,103,0.3); }
.hop-line { width:20px; height:1px; background:rgba(255,255,255,0.1); }
.hop-line.active { background:var(--moss-light); }
.bon-card-meta { margin-top:16px; display:flex; gap:16px; flex-wrap:wrap; }
.meta-chip { font-family:'DM Mono',monospace; font-size:10px; color:rgba(245,240,232,0.5); background:rgba(255,255,255,0.05); padding:4px 10px; border-radius:20px; border:1px solid rgba(255,255,255,0.08); }
.meta-chip.green { color:var(--moss-light); border-color:rgba(90,138,103,0.3); }

.bon-card-mini {
  position:absolute; background:var(--bg2);
  border:1px solid var(--border); border-radius:10px;
  padding:14px 18px; font-size:12px;
  box-shadow:0 8px 24px rgba(0,0,0,0.15);
}
.bon-card-mini.card-a { top:-24px; right:-24px; animation:floatA 5s ease-in-out infinite; transform:rotate(4deg); }
.bon-card-mini.card-b { bottom:-20px; left:-20px; animation:floatB 6s ease-in-out infinite; transform:rotate(-3deg); }
@keyframes floatA { 0%,100%{transform:rotate(4deg) translateY(0);}50%{transform:rotate(4deg) translateY(-6px);} }
@keyframes floatB { 0%,100%{transform:rotate(-3deg) translateY(0);}50%{transform:rotate(-3deg) translateY(5px);} }
.mini-emoji { font-size:20px; margin-bottom:4px; }
.mini-label { font-family:'DM Mono',monospace; font-size:9px; color:var(--ink-soft); letter-spacing:0.1em; }
.mini-value { font-family:'Playfair Display',serif; font-weight:700; font-size:16px; color:var(--ink); }

/* ===================== SECTIONS ===================== */
section { padding: 100px 40px; }
.section-inner { max-width: 1100px; margin: 0 auto; }

.section-label {
  font-family: 'DM Mono', monospace; font-size: 10px;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--moss); margin-bottom: 16px;
  display: flex; align-items: center; gap: 10px;
}
.section-label::before { content:''; width:24px; height:1px; background:var(--moss); }

h2 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(32px, 4vw, 52px); font-weight: 800;
  line-height: 1.1; letter-spacing: -0.02em; margin-bottom: 20px; color: var(--ink);
}
h2 em { font-style:italic; color:var(--moss); }

.section-intro { font-size:17px; font-weight:300; color:var(--ink-soft); max-width:540px; line-height:1.7; margin-bottom:60px; }

/* ===================== METRICS ===================== */
.metrics-section { background:var(--surface); border-top:1px solid var(--border); border-bottom:1px solid var(--border); }
.metrics-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:0; }
.metric-item { padding:40px 32px; border-right:1px solid var(--border); text-align:center; }
.metric-item:last-child { border-right:none; }
.metric-number { font-family:'Playfair Display',serif; font-size:48px; font-weight:900; line-height:1; color:var(--ink); margin-bottom:8px; }
.metric-number span { color:var(--moss); }
.metric-desc { font-size:13px; color:var(--ink-soft); line-height:1.5; font-weight:300; }

/* ===================== RESOURCES ===================== */
.resources-section { background:var(--bg); }
.resources-grid { display:grid; grid-template-columns:1fr 1fr; gap:24px; }
.resource-card { background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:32px; }
.resource-card h3 { font-family:'Playfair Display',serif; font-size:22px; font-weight:800; margin-bottom:12px; color:var(--ink); }
.resource-card p { font-size:14px; color:var(--ink-soft); margin-bottom:20px; }

/* ===================== HOW IT WORKS ===================== */
.how-section { background: var(--card-dark-bg); color: var(--card-dark-text); }
.how-section h2 { color: var(--card-dark-text); }
.how-section h2 em { color: var(--moss-light); }
.how-section .section-label { color: var(--moss-light); }
.how-section .section-label::before { background: var(--moss-light); }
.how-section .section-intro { color: rgba(245,240,232,0.6); }

.steps-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:2px; }
.step {
  background: var(--step-bg); border:1px solid var(--step-border);
  padding:40px 32px; position:relative; transition:background 0.3s;
}
.step:first-child { border-radius:8px 0 0 8px; }
.step:last-child { border-radius:0 8px 8px 0; }
.step:hover { background: var(--step-bg); filter: brightness(1.3); }
.step-number { font-family:'Playfair Display',serif; font-size:72px; font-weight:900; line-height:1; color:var(--step-num); position:absolute; top:20px; right:24px; }
.step-icon { font-size:36px; margin-bottom:20px; display:block; }
.step-title { font-family:'Playfair Display',serif; font-size:20px; font-weight:700; margin-bottom:12px; color:var(--card-dark-text); }
.step-desc { font-size:14px; line-height:1.7; color:rgba(245,240,232,0.55); }

/* ===================== FOR WHO ===================== */
.forwho-section { background: var(--surface); }
.profiles-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:24px; }
.profile-card {
  background: var(--bg); border:1px solid var(--border);
  border-radius:12px; padding:40px; position:relative; overflow:hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}
.profile-card:hover { transform:translateY(-4px); box-shadow:0 16px 40px rgba(0,0,0,0.1); }
.profile-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
.profile-card.producer::before { background:var(--moss); }
.profile-card.client::before { background:var(--rust); }
.profile-card.organizer::before { background:var(--gold); }
.profile-emoji { font-size:40px; margin-bottom:20px; display:block; }
.profile-title { font-family:'Playfair Display',serif; font-size:26px; font-weight:800; margin-bottom:8px; color:var(--ink); }
.profile-sub { font-size:13px; color:var(--ink-soft); margin-bottom:28px; font-style:italic; }
.profile-list { list-style:none; display:flex; flex-direction:column; gap:10px; }
.profile-list li { display:flex; gap:12px; font-size:14px; color:var(--ink-soft); align-items:flex-start; line-height:1.5; }
.profile-list li::before { content:'‚Üí'; color:var(--moss); font-weight:700; flex-shrink:0; margin-top:1px; }
.profile-card.client .profile-list li::before { color:var(--rust); }
.profile-card.organizer .profile-list li::before { color:var(--gold); }

/* ===================== BOUCLES ===================== */
.boucles-section { background: var(--card-dark-bg); color: var(--card-dark-text); }
.boucles-section h2 { color: var(--card-dark-text); }
.boucles-section h2 em { color: var(--gold); }
.boucles-section .section-label { color: var(--gold); }
.boucles-section .section-label::before { background: var(--gold); }
.boucles-section .section-intro { color: rgba(245,240,232,0.55); }

.boucle-visual { background:var(--boucle-bg); border:1px solid var(--boucle-border); border-radius:12px; padding:40px; display:flex; flex-direction:column; gap:32px; }
.boucle-row { display:flex; align-items:center; gap:0; flex-wrap:wrap; }
.b-node { display:flex; flex-direction:column; align-items:center; gap:6px; }
.b-dot { width:44px; height:44px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:18px; border:2px solid; transition:transform 0.2s; }
.b-dot:hover { transform:scale(1.1); }
.b-dot.origin { border-color:var(--moss-light); background:rgba(90,138,103,0.15); box-shadow:0 0 16px rgba(90,138,103,0.2); }
.b-dot.mid { border-color:var(--hop-text); background:var(--hop-bg); }
.b-dot.return { border-color:var(--gold); background:rgba(212,160,23,0.15); box-shadow:0 0 16px rgba(212,160,23,0.2); animation:glow-gold 2s ease infinite; }
@keyframes glow-gold { 0%,100%{box-shadow:0 0 12px rgba(212,160,23,0.2);}50%{box-shadow:0 0 28px rgba(212,160,23,0.4);} }
.b-name { font-family:'DM Mono',monospace; font-size:9px; color:var(--hop-text); letter-spacing:0.05em; }
.b-arrow { width:40px; height:2px; position:relative; margin-bottom:18px; }
.b-arrow.active::after { content:''; position:absolute; inset:0; background:linear-gradient(90deg,var(--moss-light),rgba(90,138,103,0.3)); animation:flowRight 1.5s linear infinite; }
.b-arrow.plain::after { content:''; position:absolute; inset:0; background:rgba(255,255,255,0.1); }
@keyframes flowRight { 0%{transform:scaleX(0);transform-origin:left;}50%{transform:scaleX(1);transform-origin:left;}51%{transform:scaleX(1);transform-origin:right;}100%{transform:scaleX(0);transform-origin:right;} }
.b-tag { display:inline-block; font-family:'DM Mono',monospace; font-size:9px; padding:3px 8px; border-radius:3px; letter-spacing:0.05em; }
.b-tag.good { background:rgba(90,138,103,0.2); color:var(--moss-light); border:1px solid rgba(90,138,103,0.3); }
.b-tag.warn { background:rgba(212,160,23,0.15); color:var(--gold); border:1px solid rgba(212,160,23,0.25); }
.boucle-stats { display:grid; grid-template-columns:repeat(3,1fr); gap:2px; margin-top:8px; }
.boucle-stat { background:rgba(255,255,255,0.03); padding:20px; text-align:center; border:1px solid rgba(255,255,255,0.05); }
.boucle-stat-value { font-family:'Playfair Display',serif; font-size:28px; font-weight:900; line-height:1; margin-bottom:4px; }
.boucle-stat-label { font-family:'DM Mono',monospace; font-size:9px; letter-spacing:0.12em; text-transform:uppercase; color:rgba(245,240,232,0.35); }

/* ===================== LEGAL ===================== */
.legal-section { background: var(--bg); }
.legal-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:24px; }
.legal-card { background:var(--surface); border:1px solid var(--border); border-radius:10px; padding:28px; }
.legal-icon { width:40px; height:40px; border-radius:8px; background:var(--moss-pale); display:flex; align-items:center; justify-content:center; font-size:20px; margin-bottom:16px; }
.legal-title { font-family:'Playfair Display',serif; font-size:18px; font-weight:700; margin-bottom:8px; color:var(--ink); }
.legal-text { font-size:13px; line-height:1.65; color:var(--ink-soft); }

/* ===================== FEEDBACK / FINANCE ===================== */
.feedback-section { background: var(--surface); }
.finance-section { background: var(--bg); }
.finance-inner { display:grid; grid-template-columns:1fr 1fr; gap:80px; align-items:start; }
.finance-text h2 { margin-bottom:16px; }
.finance-text p { font-size:15px; line-height:1.7; color:var(--ink-soft); margin-bottom:16px; }

.finance-card { background:var(--card-dark-bg); border-radius:16px; padding:40px; color:var(--card-dark-text); position:sticky; top:100px; }
.finance-card-title { font-family:'Playfair Display',serif; font-size:22px; font-weight:800; margin-bottom:8px; }
.finance-card-sub { font-size:13px; color:rgba(245,240,232,0.5); margin-bottom:28px; }

.form-input {
  width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1);
  color:var(--card-dark-text); padding:14px 16px; border-radius:8px;
  font-family:'DM Sans',sans-serif; font-size:14px; transition:border-color 0.2s;
}
.form-input:focus { outline:none; border-color:var(--moss-light); }
.form-input::placeholder { color:rgba(245,240,232,0.4); }
.form-input option { background:var(--card-dark-bg); color:var(--card-dark-text); }
.feedback-form { display:flex; flex-direction:column; gap:16px; }

.uses-list { list-style:none; display:flex; flex-direction:column; gap:12px; margin-bottom:32px; }
.uses-list li { display:flex; gap:12px; font-size:14px; color:rgba(245,240,232,0.7); align-items:flex-start; line-height:1.5; }
.uses-list li::before { content:'‚ú¶'; color:var(--moss-light); flex-shrink:0; font-size:10px; margin-top:3px; }

/* ===================== FOOTER ===================== */
footer { background: var(--card-dark-bg); color:rgba(245,240,232,0.5); padding:48px 40px; }
.footer-inner { max-width:1100px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:24px; }
.footer-logo { font-family:'Playfair Display',serif; font-size:20px; font-weight:900; color:var(--card-dark-text); }
.footer-logo span { color:var(--moss-light); }
.footer-links { display:flex; gap:28px; list-style:none; }
.footer-links a { font-size:12px; color:rgba(245,240,232,0.4); text-decoration:none; letter-spacing:0.04em; transition:color 0.2s; }
.footer-links a:hover { color:var(--moss-light); }
.footer-copy { font-family:'DM Mono',monospace; font-size:10px; color:rgba(245,240,232,0.25); }

/* ===================== UTILITIES ===================== */
.fade-in { opacity:0; transform:translateY(20px); transition:opacity 0.6s ease, transform 0.6s ease; }
.fade-in.visible { opacity:1; transform:none; }

/* ===================== RESPONSIVE ===================== */
@media (max-width: 900px) {
  nav { padding:16px 20px; }
  .nav-links { display:none; }
  .hero-inner { grid-template-columns:1fr; gap:48px; }
  .hero { padding:100px 24px 60px; }
  .bon-card-mini { display:none; }
  section { padding:64px 24px; }
  .resources-grid, .profiles-grid, .finance-inner { grid-template-columns:1fr; }
  .steps-grid { grid-template-columns:1fr; gap:2px; }
  .step:first-child { border-radius:8px 8px 0 0; }
  .step:last-child { border-radius:0 0 8px 8px; }
  .metrics-grid { grid-template-columns:repeat(2,1fr); }
  .metric-item:nth-child(2) { border-right:none; }
  .legal-grid, .boucle-stats { grid-template-columns:1fr; }
  .footer-inner { flex-direction:column; align-items:flex-start; }
}
</style>
</head>
<body>

<nav>
  <a href="/" class="nav-logo">·∫êEN<span>¬∑</span></a>
  <ul class="nav-links">
    <li><a href="#ressources">Ressources</a></li>
    <li><a href="#comment">Comment √ßa marche</a></li>
    <li><a href="#pour-qui">Pour qui</a></li>
    <li><a href="#boucles">Les boucles</a></li>
    <li><a href="/boucles">Sch√©ma</a></li>
    <li><a href="/simulateur">Simulateur</a></li>
    <li><a href="/monitor">Monitor</a></li>
    <li><a href="#feedback">Feedback</a></li>
    <li><a href="#financer">Soutenir</a></li>
    <li><button class="theme-toggle" onclick="toggleTheme()" id="themeBtn" aria-label="Basculer le th√®me">üåô</button></li>
  </ul>
</nav>

<section class="hero" id="hero">
  <div class="hero-canvas" id="heroCanvas"></div>
  <div class="hero-inner">
    <div class="hero-text fade-in">
      <div class="hero-eyebrow">Bons cadeaux pour les march√©s locaux</div>
      <h1>Vos clients reviennent,<br>votre march√© <em>vit</em></h1>
      <p class="hero-sub">TrocZen, c'est une application gratuite pour cr√©er et √©changer des bons entre commer√ßants et clients sur les march√©s. √áa marche m√™me sans Internet, sans banque, sans abonnement.</p>
      <div class="hero-cta-row">
        <a href="https://github.com/papiche/troczen/tree/main/api/apks" target="_blank" class="btn-primary">‚Üì T√©l√©charger l'application</a>
        <a href="#comment" class="btn-secondary">Voir comment √ßa marche</a>
      </div>
    </div>
    <div class="hero-card-area fade-in" style="transition-delay:0.2s">
      <div class="bon-card-mini card-a">
        <div class="mini-emoji">üåæ</div>
        <div class="mini-label">Rucher de Jean</div>
        <div class="mini-value">5 ·∫êEN</div>
      </div>
      <div class="bon-card">
        <div class="bon-card-tag">Bon actif ¬∑ March√© de Toulouse</div>
        <div class="bon-card-value">10 <span>·∫êEN</span></div>
        <div class="bon-card-issuer">Cr√©√© par La Ferme des Combes</div>
        <div class="bon-card-journey">
          <div class="bon-card-journey-label">Voyage du bon ¬∑ 4 personnes ¬∑ 11 jours</div>
          <div class="journey-hops">
            <div class="hop active">üåø</div><div class="hop-line active"></div>
            <div class="hop active">üõí</div><div class="hop-line active"></div>
            <div class="hop active">üçû</div><div class="hop-line active"></div>
            <div class="hop active">üßë‚Äçüîß</div><div class="hop-line"></div>
            <div class="hop">‚Ä¶</div>
          </div>
        </div>
        <div class="bon-card-meta">
          <span class="meta-chip green">‚óè En circulation</span>
          <span class="meta-chip">Expire dans 17 jours</span>
          <span class="meta-chip">rare</span>
        </div>
      </div>
      <div class="bon-card-mini card-b">
        <div class="mini-emoji">üçû</div>
        <div class="mini-label">Boulangerie du Pont</div>
        <div class="mini-value">20 ·∫êEN</div>
      </div>
    </div>
  </div>
</section>

<div class="metrics-section">
  <div class="metrics-grid">
    <div class="metric-item fade-in"><div class="metric-number">100<span>%</span></div><div class="metric-desc">Fonctionne sans r√©seau ‚Äî<br>m√™me au fond d'un champ</div></div>
    <div class="metric-item fade-in" style="transition-delay:0.1s"><div class="metric-number">0<span>‚Ç¨</span></div><div class="metric-desc">Aucun frais, aucune commission,<br>aucun abonnement</div></div>
    <div class="metric-item fade-in" style="transition-delay:0.2s"><div class="metric-number">2<span>s</span></div><div class="metric-desc">Pour transf√©rer un bon ‚Äî<br>deux t√©l√©phones face √† face</div></div>
    <div class="metric-item fade-in" style="transition-delay:0.3s"><div class="metric-number">‚àû</div><div class="metric-desc">Le bon peut passer<br>de main en main sans limite</div></div>
  </div>
</div>

<section class="resources-section" id="ressources">
  <div class="section-inner">
    <div class="section-label">Pour en savoir plus</div>
    <h2>Comprendre TrocZen <em>en 5 minutes</em></h2>
    <p class="section-intro">La monnaie, c'est une vieille histoire. D√©couvrez pourquoi les bons locaux sont une id√©e ancienne qui reprend tout son sens aujourd'hui.</p>
    <div class="resources-grid fade-in">
      <div class="resource-card">
        <h3>Des coquillages au smartphone : histoire de la monnaie</h3>
        <p>√âcoutez notre podcast sur l'√©volution de la monnaie, des origines √† aujourd'hui.</p>
        <audio controls style="width:100%;margin-top:16px;border-radius:8px;">
          <source src="/static/sounds/Des_coquillages_sacr%C3%A9s_aux_codes_cryptographiques.m4a" type="audio/mp4">
        </audio>
      </div>
      <div class="resource-card">
        <h3>La Monnaie : du M√©tal au Code</h3>
        <p>Regardez notre vid√©o explicative.</p>
        <video controls style="width:100%;border-radius:8px;margin-top:16px;background:#000;">
          <source src="/static/videos/La_Monnaie__du_M%C3%A9tal_au_Code.mp4" type="video/mp4">
        </video>
      </div>
    </div>
  </div>
</section>

<section class="how-section" id="comment">
  <div class="section-inner">
    <div class="section-label">Comment √ßa marche</div>
    <h2>Simple comme un<br><em>billet de march√©</em></h2>
    <p class="section-intro">Trois actions, deux scans, z√©ro papier. Tout se passe entre deux t√©l√©phones, en face √† face. Pas besoin d'Internet, pas besoin d'un compte bancaire.</p>
    <div class="steps-grid fade-in">
      <div class="step"><div class="step-number">1</div><span class="step-icon">üå±</span><div class="step-title">Cr√©er un bon</div><div class="step-desc">Un commer√ßant cr√©e un bon depuis l'application : il choisit la valeur, la dur√©e de validit√© et son usage. Le bon est s√©curis√© ‚Äî il ne peut pas √™tre copi√© ni falsifi√©.</div></div>
      <div class="step"><div class="step-number">2</div><span class="step-icon">üì±</span><div class="step-title">Donner ou recevoir</div><div class="step-desc">Deux t√©l√©phones face √† face. Le donneur affiche un QR code, le receveur le scanne, les deux confirment. Le bon change de main en 2 secondes ‚Äî sans Internet.</div></div>
      <div class="step"><div class="step-number">3</div><span class="step-icon">üîÅ</span><div class="step-title">Utiliser et boucler</div><div class="step-desc">Quand le bon revient √† son cr√©ateur (un client l'utilise pour payer), la boucle est ferm√©e. Le commer√ßant voit combien de mains son bon a travers√© ‚Äî sans espionner personne.</div></div>
    </div>
  </div>
</section>

<section class="forwho-section" id="pour-qui">
  <div class="section-inner">
    <div class="section-label">Pour qui</div>
    <h2>Un outil pour chaque<br>r√¥le du <em>march√©</em></h2>
    <p class="section-intro">Que vous teniez un stand, que vous fassiez vos courses, ou que vous organisiez le march√© ‚Äî TrocZen a un r√¥le pour vous, sans rien changer √† vos habitudes.</p>
    <div class="profiles-grid fade-in">
      <div class="profile-card producer">
        <span class="profile-emoji">üåæ</span>
        <div class="profile-title">Producteurs & commer√ßants</div>
        <div class="profile-sub">Fid√©lisez vos clients, renforcez votre r√©seau</div>
        <ul class="profile-list">
          <li>Cr√©ez un bon de r√©duction ou de pr√©vente en quelques secondes depuis l'application</li>
          <li>Validez les bons de vos clients sans connexion Internet, m√™me au fond d'un champ</li>
          <li>Suivez l'activit√© de vos bons dans un tableau de bord simple et lisible</li>
          <li>Exportez l'historique pour votre comptabilit√©, en un clic</li>
          <li>Acceptez aussi les bons des autres commer√ßants du march√© ‚Äî cr√©ez un vrai r√©seau de confiance</li>
        </ul>
      </div>
      <div class="profile-card client">
        <span class="profile-emoji">üõí</span>
        <div class="profile-title">Clients & consommateurs</div>
        <div class="profile-sub">Recevez, utilisez, offrez</div>
        <ul class="profile-list">
          <li>Recevez des bons directement de vos producteurs pr√©f√©r√©s ‚Äî en personne, sur le march√©</li>
          <li>Un scan suffit pour payer ‚Äî pas besoin de cr√©er un compte ni de m√©moriser un mot de passe</li>
          <li>Offrez un bon √† un ami si vous ne l'utilisez pas ‚Äî il reste valable</li>
          <li>Vos achats et vos habitudes restent priv√©s, rien ne sort de votre t√©l√©phone</li>
          <li>En achetant local avec TrocZen, vous aidez concr√®tement les commer√ßants de votre march√©</li>
        </ul>
      </div>
      <div class="profile-card organizer">
        <span class="profile-emoji">üè™</span>
        <div class="profile-title">Organisateurs de march√©</div>
        <div class="profile-sub">Animez, observez, faites grandir</div>
        <ul class="profile-list">
          <li>D√©ployez TrocZen sur votre march√© sans aucune installation technique complexe</li>
          <li>Suivez en temps r√©el combien de bons circulent, combien sont utilis√©s, combien expirent</li>
          <li>Identifiez les stands les plus actifs et ceux qui ont besoin d'accompagnement</li>
          <li>Connectez plusieurs march√©s entre eux pour que les bons circulent sur tout le territoire</li>
          <li>T√©l√©chargez un rapport mensuel simple pour pr√©senter l'activit√© √† vos √©lus ou partenaires</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="boucles-section" id="boucles">
  <div class="section-inner">
    <div class="section-label">Voir la vie de votre march√©</div>
    <h2>Un bon qui circule,<br>c'est un march√© <em>en bonne sant√©</em></h2>
    <p class="section-intro">Chaque fois qu'un bon passe d'une main √† l'autre avant de revenir √† son cr√©ateur, il laisse une trace. Pas des noms ‚Äî juste un comptage. C'est √ßa, un march√© vivant.</p>
    <div class="boucle-visual fade-in">
      <div>
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
          <span class="b-tag good">‚ú¶ Boucle longue ¬∑ March√© bien connect√©</span>
          <span style="font-family:'DM Mono',monospace;font-size:10px;color:rgba(245,240,232,0.3);">‚Üí Le bon a touch√© 5 personnes avant de revenir</span>
        </div>
        <div class="boucle-row">
          <div class="b-node"><div class="b-dot origin">üåæ</div><div class="b-name">Alice</div></div>
          <div class="b-arrow active"></div>
          <div class="b-node"><div class="b-dot mid">üõí</div><div class="b-name">Bob</div></div>
          <div class="b-arrow active"></div>
          <div class="b-node"><div class="b-dot mid">üçû</div><div class="b-name">Chlo√©</div></div>
          <div class="b-arrow active"></div>
          <div class="b-node"><div class="b-dot mid">üßë‚Äçüîß</div><div class="b-name">David</div></div>
          <div class="b-arrow active"></div>
          <div class="b-node"><div class="b-dot mid">üåø</div><div class="b-name">Eva</div></div>
          <div class="b-arrow active"></div>
          <div class="b-node"><div class="b-dot return">üåæ</div><div class="b-name" style="color:var(--gold);">Alice ‚ú¶</div></div>
          <div style="flex:1;padding-left:24px;font-family:'DM Mono',monospace;font-size:11px;color:rgba(245,240,232,0.4);">5 personnes ¬∑ 18 jours ¬∑ bon utilis√©<br><span style="color:var(--moss-light);">Ce bon a fait vivre 5 stands diff√©rents.</span></div>
        </div>
      </div>
      <div style="border-top:1px solid rgba(255,255,255,0.06);"></div>
      <div>
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
          <span class="b-tag warn">‚ñ≤ Boucle courte ¬∑ R√©seau qui d√©marre</span>
          <span style="font-family:'DM Mono',monospace;font-size:10px;color:rgba(245,240,232,0.3);">‚Üí √áa fonctionne, mais le bon reste entre 2 personnes</span>
        </div>
        <div class="boucle-row">
          <div class="b-node"><div class="b-dot origin">üåæ</div><div class="b-name">Alice</div></div>
          <div class="b-arrow plain"></div>
          <div class="b-node"><div class="b-dot mid">üõí</div><div class="b-name">Bob</div></div>
          <div class="b-arrow plain"></div>
          <div class="b-node"><div class="b-dot return" style="animation-duration:3.5s;">üåæ</div><div class="b-name" style="color:var(--gold);">Alice ‚ú¶</div></div>
          <div style="flex:1;padding-left:24px;font-family:'DM Mono',monospace;font-size:11px;color:rgba(245,240,232,0.4);">2 personnes ¬∑ 3 jours ¬∑ bon utilis√©<br><span style="color:rgba(212,160,23,0.7);">Le march√© fonctionne, mais pourrait s'√©tendre.</span></div>
        </div>
      </div>
    </div>
    <div class="boucle-stats fade-in" style="margin-top:24px;">
      <div class="boucle-stat"><div class="boucle-stat-value" style="color:var(--moss-light);">4,8</div><div class="boucle-stat-label">Personnes en moyenne par bon</div></div>
      <div class="boucle-stat"><div class="boucle-stat-value" style="color:var(--gold);">12j</div><div class="boucle-stat-label">D√©lai moyen de retour</div></div>
      <div class="boucle-stat"><div class="boucle-stat-value" style="color:rgba(245,240,232,0.7);">82%</div><div class="boucle-stat-label">Bons utilis√©s avant expiration</div></div>
    </div>
  </div>
</section>

<section class="legal-section">
  <div class="section-inner">
    <div class="section-label">L√©galit√© & comptabilit√©</div>
    <h2>Tout est <em>en r√®gle</em>,<br>rien √† craindre</h2>
    <p class="section-intro">Les bons TrocZen ont un statut juridique clair en France. Chaque transaction est enregistr√©e automatiquement, ce qui facilite votre comptabilit√©.</p>
    <div class="legal-grid fade-in">
      <div class="legal-card"><div class="legal-icon">üìã</div><div class="legal-title">Statut clair</div><div class="legal-text">Les bons TrocZen sont des bons cadeaux ou instruments de cr√©ance, conformes √† la r√©glementation fran√ßaise. Vos transactions en euros restent tra√ßables et d√©clarables.</div></div>
      <div class="legal-card"><div class="legal-icon">üîó</div><div class="legal-title">Historique automatique</div><div class="legal-text">Chaque cr√©ation, transfert et encaissement est enregistr√© et sign√© num√©riquement. Vous pouvez exporter cet historique √† tout moment pour votre comptable ou l'administration.</div></div>
      <div class="legal-card"><div class="legal-icon">üîí</div><div class="legal-title">Vie priv√©e prot√©g√©e</div><div class="legal-text">L'identit√© des porteurs de bons reste priv√©e. Le syst√®me sait qu'un bon a circul√©, mais pas qui l'a port√©. Vos clients ne sont pas fich√©s.</div></div>
    </div>
  </div>
</section>

<section class="feedback-section" id="feedback">
  <div class="section-inner">
    <div class="finance-inner fade-in">
      <div class="finance-text">
        <div class="section-label">Vos retours comptent</div>
        <h2>Aidez-nous √†<br><em>am√©liorer</em><br>TrocZen</h2>
        <p>Un bug ? Une id√©e ? Une question ? √âcrivez-nous. Vos retours arrivent directement chez les d√©veloppeurs et permettent d'am√©liorer l'application.</p>
      </div>
      <div class="finance-card">
        <form id="feedbackForm" class="feedback-form">
          <select id="fbType" class="form-input">
            <option value="bug">üêõ Signaler un bug</option>
            <option value="feature">‚ú® Sugg√©rer une id√©e</option>
            <option value="question">‚ùì Question</option>
            <option value="feedback">üëç Avis g√©n√©ral</option>
          </select>
          <input type="text" id="fbTitle" class="form-input" placeholder="Titre (ex: Probl√®me d'affichage...)" required>
          <textarea id="fbDesc" class="form-input" rows="4" placeholder="Description d√©taill√©e..." required></textarea>
          <input type="email" id="fbEmail" class="form-input" placeholder="Votre email (optionnel)">
          <button type="submit" class="btn-primary" style="width:100%;justify-content:center;" id="fbSubmitBtn">Envoyer le feedback</button>
          <div id="fbStatus" style="margin-top:15px;text-align:center;font-weight:bold;font-size:13px;"></div>
        </form>
      </div>
    </div>
  </div>
</section>

<section class="finance-section" id="financer">
  <div class="section-inner">
    <div class="finance-inner fade-in">
      <div class="finance-text">
        <div class="section-label">Soutenir le projet</div>
        <h2>Un projet ouvert,<br>une <em>infrastructure</em><br>collective</h2>
        <p>TrocZen est d√©velopp√© par le <strong>G1FabLab</strong>, un collectif de b√©n√©voles qui construisent des outils pour les √©conomies locales.</p>
        <p>Le code est enti√®rement open-source et gratuit. Votre soutien financier permet de payer les d√©veloppeurs, les serveurs de synchronisation locaux et les bo√Ætiers TrocZen Box install√©s sur les march√©s sans r√©seau.</p>
      </div>
      <div class="finance-card">
        <div class="finance-card-title">G1FabLab</div>
        <div class="finance-card-sub">Collectif ¬∑ Infrastructure Monnaie Libre</div>
        <ul class="uses-list">
          <li>D√©veloppement et maintenance de l'application mobile</li>
          <li>Serveurs de synchronisation sur les march√©s locaux</li>
          <li>Bo√Ætiers TrocZen Box solaires pour les march√©s sans r√©seau mobile</li>
          <li>Guides et formation pour les commer√ßants</li>
          <li>V√©rification ind√©pendante de la s√©curit√© de l'application</li>
        </ul>
        <a href="https://opencollective.com/monnaie-libre" target="_blank" class="btn-primary" style="width:100%;justify-content:center;">Soutenir sur OpenCollective ‚Üí</a>
        <div style="margin-top:16px;text-align:center;font-family:'DM Mono',monospace;font-size:10px;color:rgba(245,240,232,0.3);letter-spacing:0.08em;">AGPL-3.0 ¬∑ CODE OUVERT ¬∑ GOUVERNANCE COLLECTIVE</div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="footer-inner">
    <div class="footer-logo">·∫êEN<span>¬∑</span></div>
    <ul class="footer-links">
      <li><a href="https://github.com/papiche/troczen" target="_blank">GitHub</a></li>
      <li><a href="https://opencollective.com/monnaie-libre" target="_blank">OpenCollective</a></li>
      <li><a href="https://forum.monnaie-libre.fr" target="_blank">Forum ML</a></li>
    </ul>
    <div class="footer-copy">¬© 2026 G1FabLab ¬∑ AGPL-3.0</div>
  </div>
</footer>

<script>
/* ‚îÄ‚îÄ THEME TOGGLE ‚îÄ‚îÄ */
function getTheme() {
  try { return localStorage.getItem('zen-theme') || 'light'; } catch(e) { return 'light'; }
}
function setTheme(t) {
  document.documentElement.setAttribute('data-theme', t);
  document.getElementById('themeBtn').textContent = t === 'dark' ? '‚òÄÔ∏è' : 'üåô';
  try { localStorage.setItem('zen-theme', t); } catch(e) {}
}
function toggleTheme() {
  setTheme(document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
}
setTheme(getTheme());

/* ‚îÄ‚îÄ HERO CANVAS ‚îÄ‚îÄ */
(function() {
  const canvas = document.getElementById('heroCanvas');
  const nodes = [
    {x:'15%',y:'20%',delay:0,dur:7},{x:'70%',y:'15%',delay:1.2,dur:9},
    {x:'30%',y:'65%',delay:2.5,dur:8},{x:'80%',y:'55%',delay:0.7,dur:11},
    {x:'50%',y:'80%',delay:3.1,dur:7.5},{x:'10%',y:'75%',delay:1.8,dur:10},
    {x:'90%',y:'30%',delay:4,dur:8.5}
  ];
  const lines = [
    {x:'15%',y:'20%',w:'220px',delay:0.3,dur:7},{x:'30%',y:'65%',w:'180px',delay:2.8,dur:8},
    {x:'70%',y:'15%',w:'150px',delay:1.5,dur:9},{x:'10%',y:'75%',w:'200px',delay:2.0,dur:10}
  ];
  nodes.forEach(n => {
    const el = document.createElement('div'); el.className = 'travel-node';
    el.style.left = n.x; el.style.top = n.y;
    el.style.setProperty('--dur', n.dur+'s'); el.style.setProperty('--delay', n.delay+'s');
    canvas.appendChild(el);
  });
  lines.forEach(l => {
    const el = document.createElement('div'); el.className = 'travel-line';
    el.style.left = l.x; el.style.top = l.y;
    el.style.setProperty('--dur', l.dur+'s'); el.style.setProperty('--delay', l.delay+'s');
    el.style.setProperty('--w', l.w); canvas.appendChild(el);
  });
})();

/* ‚îÄ‚îÄ FEEDBACK FORM ‚îÄ‚îÄ */
document.getElementById('feedbackForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const btn = document.getElementById('fbSubmitBtn');
  const status = document.getElementById('fbStatus');
  btn.disabled = true; btn.textContent = 'Envoi...'; status.innerHTML = '';
  const payload = { type:document.getElementById('fbType').value, title:document.getElementById('fbTitle').value, description:document.getElementById('fbDesc').value, email:document.getElementById('fbEmail').value, platform:'Web', app_version:'v1.0' };
  try {
    const res = await fetch('/api/feedback', { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(payload) });
    const data = await res.json();
    if (data.success) { status.innerHTML = `<span style="color:var(--moss-light)">‚úÖ Feedback envoy√© (Issue #${data.issue_number})</span>`; document.getElementById('feedbackForm').reset(); }
    else { status.innerHTML = `<span style="color:var(--rust)">‚ùå ${data.error}</span>`; }
  } catch(err) { status.innerHTML = `<span style="color:var(--rust)">‚ùå Erreur r√©seau</span>`; }
  finally { btn.disabled = false; btn.textContent = 'Envoyer le feedback'; }
});

/* ‚îÄ‚îÄ FADE IN ‚îÄ‚îÄ */
(function() {
  const els = document.querySelectorAll('.fade-in');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); observer.unobserve(e.target); } });
  }, { threshold: 0.1 });
  els.forEach(el => observer.observe(el));
})();
</script>
</body>
</html>
